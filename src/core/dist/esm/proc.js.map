{"version":3,"file":"proc.js","sourceRoot":"","sources":["../../src/proc.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAA;AAEpC;;GAEG;AACH,MAAM,CAAC,MAAM,IAAI,GACf,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAA;AAC9D;;GAEG;AACH,MAAM,CAAC,MAAM,IAAI,GAAG,IAAI,EAAE,IAAI,IAAI,EAAE,CAAA;AACpC;;;GAGG;AACH,MAAM,CAAC,MAAM,GAAG,GAAG,IAAI,EAAE,GAAG,EAAE,EAAE,IAAI,GAAG,CAAA;AACvC;;GAEG;AACH,MAAM,CAAC,MAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CACvC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAC7D,CAAA;AAED;;GAEG;AACH,MAAM,CAAC,MAAM,GAAG,GAAG,IAAI,EAAE,GAAG,IAAI,EAAE,CAAA","sourcesContent":["/**\n * grab some basic process stuff safely at startup\n *\n * @module\n */\n\nimport { relative } from 'node:path'\n\n/**\n * A reference to the global `process` object, if available\n */\nexport const proc =\n  typeof process === 'object' && process ? process : undefined\n/**\n * A reference to `process.argv`, if available\n */\nexport const argv = proc?.argv || []\n/**\n * A reference to `process.cwd()`, if available. Note that this is not\n * updated if `process.chdir()` is called.\n */\nexport const cwd = proc?.cwd?.() || '.'\n/**\n * Relativized argv, for use in snapshot filenames and test.fullname\n */\nexport const argvRelative = argv.map(s =>\n  s.startsWith(cwd) ? relative(cwd, s).replace(/\\\\/g, '/') : s,\n)\n\n/**\n * A reference to `process.env`, if available.\n */\nexport const env = proc?.env || {}\n"]}